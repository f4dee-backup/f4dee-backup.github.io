---
title: "Fawn"
layout: "post"
categories: [ "HTB - Starting Point" ]
tags: [ "telnet", "nmap" ]
---

## Info

![Fawn](/assets/posts/2025-09-12-fawn-starting-point-htb/01_fawn.png)
*Fawn HTB - Starting Point*

En este post mostraré la resolución de la máquina **Fawn** de Hack the Box clasificada como *Very Easy* dentro de la sección *Starting Point*.

## Enumeración

Como es de costumbre, envío una traza ICMP hacia la dirección IP del host.

```shell
ping -c 1 "IP_VICTIM"
```
Como el host responde, inicio un escaneo de puertos con `nmap` para descubrir los servicios abiertos en el objetivo.

```shell
nmap -p- --open -sS --min-rate 5000 -n -Pn -vvv "IP_VICTIM" -oG allPorts
```
Explicación de los parámetros.

- `-p-`: Escanea todo el rango de puertos (1-65535).
- `--open`: Muestra solo los puertos abiertos.
- `-sS`: Realiza un escaneo TCP SYN (Stealth Scan).
- `--min-rate 5000`: Establece una velocidad mínima de 5000 paquetes por segundo.
- `-n`: No realiza resolución DNS.
- `-Pn`: Omite el descubrimiento de hosts.
- `-vvv`: Muestra información detallada durante el escaneo.
- `-oG`: Exporta el output en formato "grepable" en el archivo **allPorts**.

En seguida usó la herramienta [extractPorts](https://pastebin.com/xNaZxRGA) para extraer los puertos abiertos y copiarlos al portapapeles. El escaneo revela que el único puerto abierto es el **21 (FTP)**. A continuación, realizo un escaneo dirigido hacia este puerto para obtener más información sobre la versión y el servicio:

```shell
nmap -sCV -p "ports_open" "IP_VICTIM" -oN version
```
- -sC: Usa scripts por defecto (incluye categorías como: discovery, intrusive, etc.).
- -sV: Detecta versión y tipo de servicio. 
- -p: Escanea solo los puertos especificados.
- -oN: Exporta el output en formato normal al archivo **version**

## Foothold

Gracias al script `ftp-anon.nse` de Nmap, descubro que el servicio permite autenticación como el usuario **Anonymous**, además de un archivo: 

![Fawn](/assets/posts/2025-09-12-fawn-starting-point-htb/02_nmapCV.png)

Por lo tanto, puedo interactuar con el servicio sin proporcionar contraseña. Uso la herramienta `ftp` para conectarme: 

```shell
ftp -p "IP_VICTIM"
```
- -p: Realiza la conexión en modo pasivo

Recomiendo el modo pasivo en caso de que tengas un **firewall activado o NAT**, como es mi caso. Este [artículo](https://www.jscape.com/blog/active-v-s-passive-ftp-simplified) explica muy bien sobre las diferencias entre los modos activo y pasivo en FTP.

![Fawn](/assets/posts/2025-09-12-fawn-starting-point-htb/03_ftp_passive.png)

Ahora, uso los comandos de FTP, `ls` o `dir` para listar los recursos disponibles en el servidor. Como se vió anteriormente con Nmap, encuentro un archivo interesante llamado `flag.txt`. Lo descargo a mi máquina con el comando `get`.

![Fawn](/assets/posts/2025-09-12-fawn-starting-point-htb/04_ftp_resource.png)

Finalmente, puedo visualizar el contenido del archivo:

![Fawn](/assets/posts/2025-09-12-fawn-starting-point-htb/05_flag.png)

## Answer

> What does the 3-letter acronym FTP stand for?
- File Transfer Protocol

> Which port does the FTP service listen on usually?
- 21

> FTP sends data in the clear, without any encryption. What acronym is used for a later protocol designed to provide similar functionality to FTP but securely, as an extension of the SSH protocol?
- SFTP

> What is the command we can use to send and ICMP echo request to test our connection to the target?
- ping

> From your scans, what version is FTP running on the target?
- vsftpd 3.0.3

> From your scans, what OS type is running on the target?
- Unix

> What is the command we need to run in order to display the 'ftp' client help menu?
- ftp -?

> What is username that is used over FTP when you want to log in without having an account?
- anonymous

> What is the response code we get for the FTP message 'Login succesful'?
- 230

> There are a couple of commands we can use to list the files and directories available on the FTP server. One is dir. What is the other that is a common way to list files on a Linux system.
- ls

> What is the command used to download the file we found on the FTP server?
- get

> Submit root flag
- SEND_FLAG :triangular_flag_on_post:

## Conclusión
Esta máquina sirve como introducción al servicio FTP y a conceptos básicos de enumeracióin en redes. Permite practicar escaneos con `nmap`, el uso de la herramienta `ftp` en modo **pasivo** y la autenticación anónima. Exponen la importancia de no dejar servicios innecesarios abiertos y configurar adecuadamente los permisos de acceso.
